{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","core/SidebarLinks.js","user/AdminDashboard.js","auth/AdminRoute.js","admin/apiAdmin.js","admin/ListCategory.js","admin/AddCategory.js","admin/EditCategory.js","admin/ListSubCategory.js","admin/AddSubCategory.js","admin/EditSubCategory.js","admin/AddQuiz.js","admin/ListQuiz.js","admin/EditQuiz.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","user","role","style","to","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","product","substring","price","Search","categories","category","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","undefined","searchSubmit","e","onSubmit","map","c","i","key","placeholder","border","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","component","rest","render","props","state","from","Dashboard","AdminDashboard","AdminRoute","getCategory","categoryId","getSubCategory","subcategoryId","getSubCategories","ListCategory","setCategories","token","loadCategory","destroy","userId","Authorization","deleteCategory","id","cat","AddCategory","photo","createdCategory","redirectToProfile","formData","FormData","files","set","createCategory","accept","EditCategory","match","updateCategory","ListSubCategory","subcategories","setSubCategories","loadSubCategory","deleteSubCategory","subcat","AddSubCategory","createdProduct","createdSubCategory","subcategory","createSubCategory","EditSubCategory","initCategories","updateSubCategory","AddQuiz","createdQuiz","setSubcategories","quiz","createQuiz","multiple","s","x","ListQuiz","setQuiz","loadQuiz","quizId","deleteQuiz","qu","EditQuiz","init","getQuiz","initCat","initSub","updateQuiz","AddProduct","shipping","quantity","createProduct","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","splice","RadioBox","prices","setValue","p","array","Shop","myFilters","setMyFilters","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Routes","exact","Admin","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.554fd715.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL","import { API } from \"../config\";\n\nexport const signup = user => {\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const authenticate = (data, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"jwt\");\n        next();\n        return fetch(`${API}/signout`, {\n            method: \"GET\"\n        })\n            .then(response => {\n                console.log(\"signout\", response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false;\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n    } else {\n        return false;\n    }\n};\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#ff9900\" };\r\n    } else {\r\n        return { color: \"#ffffff\" };\r\n    }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\">\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        className=\"nav-link\"\r\n                        style={isActive(history, \"/user/dashboard\")}\r\n                        to=\"/user/dashboard\"\r\n                    >\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        className=\"nav-link\"\r\n                        style={isActive(history, \"/admin/dashboard\")}\r\n                        to=\"/admin/dashboard\"\r\n                    >\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            className=\"nav-link\"\r\n                            style={isActive(history, \"/signin\")}\r\n                            to=\"/signin\"\r\n                        >\r\n                            Signin\r\n                        </Link>\r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            className=\"nav-link\"\r\n                            style={isActive(history, \"/signup\")}\r\n                            to=\"/signup\"\r\n                        >\r\n                            Signup\r\n                        </Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n                <li className=\"nav-item\">\r\n                    <span\r\n                        className=\"nav-link\"\r\n                        style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n                        onClick={() =>\r\n                            signout(() => {\r\n                                history.push(\"/\");\r\n                            })\r\n                        }\r\n                    >\r\n                        Signout\r\n                    </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n//import AdminLinks from \"./AdminLinks\";\r\nimport \"../styles.css\";\r\n\r\nconst Layout = ({\r\n    title = \"Title\",\r\n    description = \"Description\",\r\n    className,\r\n    children\r\n}) => (\r\n    <div>\r\n        <Menu />\r\n\r\n        <div className={className}>{children}</div>\r\n    </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React, { useState,useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth\";\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    });\r\n\r\n    const { name, email, password, success, error } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n\r\n    const clickSubmit = event => {\r\n         event.preventDefault();\r\n        setValues({ ...values, error: false });\r\n         signup({ name, email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, success: false });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\",\r\n                    error: \"\",\r\n                    success: true\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    onChange={handleChange(\"name\")}\r\n    type=\"text\"\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n    onChange={handleChange(\"email\")}\r\n    type=\"email\"\r\n    className=\"form-control\"\r\n    value={email}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Password</label>\r\n        <input\r\n    onChange={handleChange(\"password\")}\r\n    type=\"password\"\r\n    className=\"form-control\"\r\n    value={password}\r\n    />\r\n    </div>\r\n    <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n        </button>\r\n        </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: success ? \"\" : \"none\" }}\r\n>\r\n    New account is created. Please <Link to=\"/signin\">Signin</Link>\r\n        </div>\r\n);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Signup\"\r\n    description=\"Signup to Node React E-commerce App\"\r\n    className=\"container col-md-8 offset-md-2\"\r\n        >\r\n        {showSuccess()}\r\n        {showError()}\r\n        {signUpForm()}\r\n</Layout>\r\n);\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    });\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values;\r\n    const { user } = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true });\r\n        signin({ email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, loading: false });\r\n            } else {\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        redirectToReferrer: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n    onChange={handleChange(\"email\")}\r\n    type=\"email\"\r\n    className=\"form-control\"\r\n    value={email}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Password</label>\r\n        <input\r\n    onChange={handleChange(\"password\")}\r\n    type=\"password\"\r\n    className=\"form-control\"\r\n    value={password}\r\n    />\r\n    </div>\r\n    <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n        </button>\r\n        </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-info\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />;\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />;\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Signin\"\r\n    description=\"Signin to Node React E-commerce App\"\r\n    className=\"container col-md-8 offset-md-2\"\r\n        >\r\n        {showLoading()}\r\n        {showError()}\r\n        {signUpForm()}\r\n        {redirectUser()}\r\n</Layout>\r\n);\r\n};\r\n\r\nexport default Signin;\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = sortBy => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit,\r\n        skip,\r\n        filters\r\n    };\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params);\r\n    console.log(\"query\", query);\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n    <div className=\"product-img\">\r\n        <img\r\n            src={`${API}/${url}/photo/${item._id}`}\r\n            alt={item.name}\r\n            className=\"mb-3\"\r\n            style={{ maxHeight: \"10%\", maxWidth: \"10%\" }}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\n\r\nconst Card = ({ product }) => {\r\n    return (\r\n        <div className=\"col-4 mb-3\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">{product.name}</div>\r\n                <div className=\"card-body\">\r\n                    <ShowImage item={product} url=\"product\" />\r\n                    <p>{product.description.substring(0, 100)}</p>\r\n                    <p>${product.price}</p>\r\n                    <Link to=\"/\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2\">\r\n                            View Product\r\n                        </button>\r\n                    </Link>\r\n                    <button className=\"btn btn-outline-warning mt-2 mb-2\">\r\n                        Add to card\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: \"\",\r\n        search: \"\",\r\n        results: [],\r\n        searched: false\r\n    });\r\n\r\n    const { categories, category, search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setData({ ...data, categories: data });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const searchData = () => {\r\n        // console.log(search, category);\r\n        if (search) {\r\n            list({ search: search || undefined, category: category }).then(\r\n                response => {\r\n                    if (response.error) {\r\n                        console.log(response.error);\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true });\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const searchSubmit = e => {\r\n        e.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false });\r\n    };\r\n\r\n    const searchedProducts = (results = []) => {\r\n        return (\r\n            <div className=\"row\">\r\n                {results.map((product, i) => (\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <select\r\n                            className=\"btn mr-2\"\r\n                            onChange={handleChange(\"category\")}\r\n                        >\r\n                            <option value=\"All\">Pick Category</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>\r\n                                    {c.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Search by name\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"btn input-group-append\"\r\n                    style={{ border: \"none\" }}\r\n                >\r\n                    <button className=\"input-group-text\">Search</button>\r\n                </div>\r\n            </span>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">{searchForm()}</div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Search from \"./Search\";\r\n\r\nconst Home = () => {\r\n    const [productsBySell, setProductsBySell] = useState([]);\r\n    const [productsByArrival, setProductsByArrival] = useState([]);\r\n    const [error, setError] = useState(false);\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts(\"sold\").then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts(\"createdAt\").then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Home Page\"\r\n            description=\"Node React E-commerce App\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <Search />\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product, i) => (\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n            <h2 className=\"mb-4\">Best Sellers</h2>\r\n            <div className=\"row\">\r\n                {productsBySell.map((product, i) => (\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Dashboard = () => {\r\n    const {\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n\r\n\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">\r\n                            My Cart\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/profile/update\">\r\n                            Update Profile\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n     const userInfo = () => {\r\n        return (\r\n\r\n                <div className=\"card mb-5\">\r\n                    <h3 className=\"card-header\">User Information</h3>\r\n                    <ul className=\"list-group\">\r\n                        <li className=\"list-group-item\">{name}</li>\r\n                        <li className=\"list-group-item\">{email}</li>\r\n                        <li className=\"list-group-item\">\r\n                            {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n        );\r\n    };\r\n\r\n    const purchaseHistory = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">history</li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Dashboard\"\r\n            description={`G'day ${name}!`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{userLinks()}</div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#ff9900\" };\r\n    } else {\r\n        return { color: \"#ffffff\" };\r\n    }\r\n};\r\n\r\nconst SidebarLinks =  ({ history }) => (\r\n        < div className = \"card\" >\r\n            < h4 className = \"card-header\" > Admin Links < /h4>\r\n        < ul className = \"list-group\" >\r\n            < li\r\n        className = \"list-group-item\" >\r\n            < Link\r\n        className = \"nav-link\"\r\n        to = \"/list/category\" >\r\n        Category\r\n        < /Link>\r\n        < /li>\r\n\r\n        < li\r\n        className = \"list-group-item\" >\r\n            < Link\r\n        className = \"nav-link\"\r\n        to = \"/list/subcategory\" >\r\n        Subcategory\r\n        < /Link>\r\n        < /li>\r\n        < li\r\n        className = \"list-group-item\" >\r\n            < Link\r\n        className = \"nav-link\"\r\n        to = \"/list/quiz\" >\r\n\r\n        Quiz\r\n        < /Link>\r\n        < /li>\r\n        < /ul>\r\n        < /div>\r\n)\r\n\r\nexport default withRouter(SidebarLinks);","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport SideBarLinks from \"../core/SidebarLinks\";\n\nconst AdminDashboard = () => {\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/category\">\n                            Create Category\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/subcategory\">\n                            Create Subcategory\n                        </Link>\n                    </li>\n\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/quiz\">\n                            Create Quiz\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">< SideBarLinks /></div>\n                <div className=\"col-9\">{adminInfo()}</div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AdminDashboard;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default AdminRoute;\n","import { API } from \"../config\";\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: category\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategory = (categoryId) => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: category\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const createSubCategory = (userId, token, subcategory) => {\r\n    return fetch(`${API}/subcategory/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: subcategory\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const deleteSubCategory = (subcategoryId, userId, token) => {\r\n    return fetch(`${API}/subcategory/${subcategoryId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getSubCategory = (subcategoryId) => {\r\n    return fetch(`${API}/subcategory/${subcategoryId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateSubCategory = (subcategoryId, userId, token, subcategory) => {\r\n    return fetch(`${API}/subcategory/${subcategoryId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: subcategory\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const createQuiz = (userId, token, quiz) => {\r\n    return fetch(`${API}/quiz/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: quiz\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getSubCategories = () => {\r\n    return fetch(`${API}/subcategories`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getQuizes = () => {\r\n    return fetch(`${API}/quiz`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const deleteQuiz = (quizId, userId, token) => {\r\n    return fetch(`${API}/quiz/${quizId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const updateQuiz = (quizId, userId, token, quiz) => {\r\n    return fetch(`${API}/quiz/${quizId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: quiz\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getQuiz = (quizId) => {\r\n    return fetch(`${API}/quiz/${quizId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { getCategories, deleteCategory } from \"./apiAdmin\";\r\nimport {Link} from \"react-router-dom\";\r\nimport css from \"../styles.css\"\r\nimport {API} from \"../config\";\r\nimport ShowImage from \"../core/ShowImage\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\nimport {isAuthenticated} from \"../auth\";\r\n\r\n\r\nconst ListCategory = () => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState([]);\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const loadCategory = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n    \r\n    const destroy = categoryId => {\r\n        deleteCategory(categoryId, user._id, token).then(data => {\r\n            if (data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                loadCategory();\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategory();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Home Page\"\r\n    description=\"Node React E-commerce App\"\r\n    className=\"container-fluid\"\r\n        >\r\n        <div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-6\">\r\n            <table id=\"students\">\r\n            <thead>\r\n            <tr>\r\n                <th>Id</th>\r\n                <th>Name</th>\r\n                <th>Image</th>\r\n                <th>Edit</th>\r\n        <th>Delete</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {categories.map((cat, i) => (\r\n            <tr>\r\n            <td>{cat._id}</td>\r\n            <td>{cat.name}</td>\r\n            <td><ShowImage item={cat} url=\"category\" /></td>\r\n            <td><Link to={`/category/update/${cat._id}`}>Edit</Link></td>\r\n            <td><span\r\n    onClick={() => destroy(cat._id)}\r\n    className=\"badge badge-danger badge-pill\"\r\n        >\r\n        Delete\r\n        </span></td>\r\n            </tr>\r\n            ))}\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n        <div className=\"col-3\"><Link to='/create/category'>Create Category</Link></div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default ListCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {createCategory, getCategories} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\n\r\nconst AddCategory = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdCategory: \"\",\r\n        redirectToProfile: false,\r\n        formData : \"\"\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        loading,\r\n        error,\r\n        createdCategory,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    //load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n    \r\n    const handleChange = name => event => {\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        createCategory(user._id, token,formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    photo: \"\",\r\n                    loading: false,\r\n                    createdCategory: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    onChange={handleChange(\"name\")}\r\n    type=\"text\"\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\"> Image</label>\r\n        <input\r\n    onChange={handleChange(\"photo\")}\r\n    type=\"file\"\r\n    name=\"photo\"\r\n    className=\"form-control\"\r\n    accept=\"image/*\"\r\n        />\r\n\r\n        </div>\r\n\r\n\r\n\r\n    <button className=\"btn btn-outline-primary\">Create Category</button>\r\n    </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: createdCategory ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdCategory}`} is created!</h2>\r\n    </div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Add a new product\"\r\n    description={`G'day ${user.name}, ready to add a new product?`}\r\n>\r\n<div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-6\">\r\n        {showLoading()}\r\n    {showSuccess()}\r\n    {showError()}\r\n    {newPostForm()}\r\n</div>\r\n    <div className=\"col-3\"></div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {updateCategory, getCategories, getCategory} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\n\r\nconst EditCategory = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdCategory: \"\",\r\n        redirectToProfile: false,\r\n        formData : \"\"\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        loading,\r\n        error,\r\n        createdCategory,\r\n        redirectToProfile,\r\n        formData,\r\n        categories\r\n    } = values;\r\n\r\n    //load categories and set form data\r\n    const init = categoryId => {\r\n        getCategory(categoryId).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.categoryId);\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        updateCategory(match.params.categoryId, user._id, token,formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    photo: \"\",\r\n                    loading: false,\r\n                    createdCategory: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    onChange={handleChange(\"name\")}\r\n    type=\"text\"\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\"> Image</label>\r\n        <input\r\n    onChange={handleChange(\"photo\")}\r\n    type=\"file\"\r\n    name=\"photo\"\r\n    className=\"form-control\"\r\n    accept=\"image/*\"\r\n        />\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <button className=\"btn btn-outline-primary\">Edit Category</button>\r\n    </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: createdCategory ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdCategory}`} is updated!</h2>\r\n    </div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToProfile) {\r\n            if (!error) {\r\n                return <Redirect to=\"/\" />;\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Add a new product\"\r\n    description={`G'day ${user.name}, ready to add a new product?`}\r\n>\r\n<div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-6\">\r\n        {showLoading()}\r\n    {showSuccess()}\r\n    {showError()}\r\n    {newPostForm()}\r\n</div>\r\n    <div className=\"col-3\"></div>\r\n        </div>\r\n        </Layout>\r\n);\r\n};\r\n\r\nexport default EditCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport {getSubCategories, deleteSubCategory, getCategory} from \"./apiAdmin\";\r\nimport {Link} from \"react-router-dom\";\r\nimport css from \"../styles.css\"\r\nimport {API} from \"../config\";\r\nimport ShowImage from \"../core/ShowImage\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\nimport {isAuthenticated} from \"../auth\";\r\n\r\n\r\nconst ListSubCategory = () => {\r\n    const [subcategories, setSubCategories] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const {user, token} = isAuthenticated();\r\n    const loadSubCategory = () => {\r\n        getSubCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setSubCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const destroy = subcategoryId => {\r\n        deleteSubCategory(subcategoryId, user._id, token).then(data => {\r\n            if(data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                loadSubCategory();\r\n            }\r\n        })\r\n    }\r\n\r\n    const cat = categoryId => {\r\n        getCategory(categoryId).then(data => {\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }else{\r\n                return data.name;\r\n            }\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadSubCategory();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Home Page\"\r\n    description=\"Node React E-commerce App\"\r\n    className=\"container-fluid\"\r\n        >\r\n        <div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-7\">\r\n        <table id=\"students\">\r\n        <thead>\r\n        <tr>\r\n        <th>Id</th>\r\n        <th>Category Name</th>\r\n        <th>Name</th>\r\n        <th>Image</th>\r\n        <th>Edit</th>\r\n        <th>Delete</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        {subcategories.map((subcat, i) => (\r\n                <tr>\r\n                <td>{subcat._id}</td>\r\n                <td>{cat(subcat.category)}</td>\r\n                <td>{subcat.name}</td>\r\n                <td><ShowImage item={subcat} url=\"subcategory\" /></td>\r\n            <td><Link to={`/subcategory/update/${subcat._id}`}>Edit</Link></td>\r\n    <td><span\r\n    onClick={() => destroy(subcat._id)}\r\n    className=\"badge badge-danger badge-pill\"\r\n        >\r\n        Delete\r\n        </span></td>\r\n            </tr>\r\n))}\r\n</tbody>\r\n    </table>\r\n    </div>\r\n    <div className=\"col-2\"><Link to='/create/subcategory'>Create SubCategory</Link></div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default ListSubCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {createSubCategory, getCategories} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\nconst AddSubCategory = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdProduct: \"\",\r\n        redirectToProfile: false,\r\n        formData: \"\"\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        categories,\r\n        category,\r\n        loading,\r\n        error,\r\n        createdSubCategory,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    //load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        createSubCategory(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    photo: \"\",\r\n                    loading: false,\r\n                    createdSubCategory: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Image</label>\r\n        <input\r\n    onChange={handleChange(\"photo\")}\r\n    type=\"file\"\r\n    name=\"photo\"\r\n    accept=\"image/*\"\r\n    className=\"form-control\"\r\n        />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    onChange={handleChange(\"name\")}\r\n    type=\"text\"\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select\r\n    onChange={handleChange(\"category\")}\r\n    className=\"form-control\"\r\n        >\r\n        <option>Please select</option>\r\n    {categories &&\r\n    categories.map((c, i) => (\r\n        <option key={i} value={c._id}>\r\n        {c.name}\r\n        </option>\r\n    ))}\r\n</select>\r\n    </div>\r\n\r\n    \r\n    <button className=\"btn btn-outline-primary\">Create Subcategory</button>\r\n    </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: createdSubCategory ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdSubCategory}`} is created!</h2>\r\n    </div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Add a new product\"\r\n    description={`G'day ${user.name}, ready to add a new product?`}\r\n>\r\n<div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-9\">\r\n        {showLoading()}\r\n    {showSuccess()}\r\n    {showError()}\r\n    {newPostForm()}\r\n</div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default AddSubCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {getSubCategory, getCategories, getCategory, updateSubCategory} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\nconst EditSubCategory = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdProduct: \"\",\r\n        redirectToProfile: false,\r\n        formData: \"\"\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        categories,\r\n        category,\r\n        loading,\r\n        error,\r\n        createdSubCategory,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    //load categories and set form data\r\n    const init = subcategoryId => {\r\n        getSubCategory(subcategoryId).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    category: data.category._id,\r\n                    formData: new FormData()\r\n                });\r\n                initCategories();\r\n            }\r\n        });\r\n    };\r\n\r\n    const initCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.subcategoryId);\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        updateSubCategory(match.params.subcategoryId,user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    photo: \"\",\r\n                    loading: false,\r\n                    createdSubCategory: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Image</label>\r\n        <input\r\n    onChange={handleChange(\"photo\")}\r\n    type=\"file\"\r\n    name=\"photo\"\r\n    accept=\"image/*\"\r\n    className=\"form-control\"\r\n        />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    onChange={handleChange(\"name\")}\r\n    type=\"text\"\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select\r\n    onChange={handleChange(\"category\")}\r\n    className=\"form-control\"\r\n        >\r\n        <option>Please select</option>\r\n    {categories &&\r\n    categories.map((c, i) => (\r\n        <option key={i} value={c._id}>\r\n        {c.name}\r\n        </option>\r\n    ))}\r\n</select>\r\n    </div>\r\n\r\n\r\n    <button className=\"btn btn-outline-primary\">Create Subcategory</button>\r\n    </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: createdSubCategory ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdSubCategory}`} is created!</h2>\r\n    </div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Add a new product\"\r\n    description={`G'day ${user.name}, ready to add a new product?`}\r\n>\r\n<div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-9\">\r\n        {showLoading()}\r\n    {showSuccess()}\r\n    {showError()}\r\n    {newPostForm()}\r\n</div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default EditSubCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {createQuiz, getCategories, getSubCategories} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\nconst AddQuiz = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    categories: [],\r\n    subcategories: [],\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdQuiz: \"\",\r\n    redirectToProfile: false,\r\n    formData: new FormData()\r\n  });\r\n\r\n  const [error, setError] = useState(false);\r\n  const [categories, setCategories] = useState(false);\r\n  const [subcategories, setSubcategories] = useState(false);\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    loading,\r\n    createdQuiz,\r\n    redirectToProfile,\r\n    formData\r\n  } = values;\r\n\r\n  const init = () => {\r\n    getCategories().then(data => {\r\n      if (data.error) {\r\n        setValues({...values, error: data.error});\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const initSub = () => {\r\n    getSubCategories().then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setSubcategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    init();\r\n    initSub();\r\n  }, []);\r\n\r\n\r\n  const handleChange = name => event => {\r\n\r\n    const value =\r\n        name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n  const clickSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createQuiz(user._id, token, formData).then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          category: \"\",\r\n          subcategory: \"\",\r\n          photo: \"\",\r\n          loading: false,\r\n          createdQuiz: data.name\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newQuizFom = () => (\r\n      <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n      <label className=\"text-muted\">Name</label>\r\n      <input\r\n  type=\"text\"\r\n  onChange={handleChange(\"name\")}\r\n  className=\"form-control\"\r\n  value={name}\r\n  />\r\n  </div>\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Category</label>\r\n      <select\r\n  onChange={handleChange(\"category\")}\r\n  className=\"form-control\">\r\n      <option>Please select</option>\r\n  {categories &&\r\n  categories.map((c, i) => (\r\n      <option key={i} value={c._id}>\r\n      {c.name}\r\n      </option>\r\n  ))}\r\n</select>\r\n  </div>\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">SubCategory</label>\r\n      <select\r\n  onChange={handleChange(\"subcategory\")}\r\n  className=\"form-control\" multiple>\r\n      <option>Please select</option>\r\n  {subcategories &&\r\n  subcategories.map((s, x) => (\r\n      <option key={x} value={s._id}>\r\n      {s.name}\r\n      </option>\r\n  ))}\r\n</select>\r\n  </div>\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Image</label>\r\n      <input\r\n  onChange={handleChange(\"photo\")}\r\n  type=\"file\"\r\n  name=\"photo\"\r\n  accept=\"image/*\"\r\n  className=\"form-control\"\r\n      />\r\n      </div>\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Description</label>\r\n      <textarea\r\n  className=\"form-control\"\r\n  onChange={handleChange(\"description\")}\r\n  value={description}\r\n  />\r\n  </div>\r\n  <button className=\"btn btn-outline-primary\">Create Quiz</button>\r\n  </form>\r\n);\r\n\r\n  const showError = () => (\r\n      <div\r\n  className=\"alert alert-danger\"\r\n  style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n  {error}\r\n</div>\r\n);\r\n\r\n  const showSuccess = () => (\r\n      <div\r\n  className=\"alert alert-info\"\r\n  style={{ display: createdQuiz ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdQuiz}`} is created!</h2>\r\n  </div>\r\n);\r\n\r\n  const showLoading = () =>\r\n      loading && (\r\n      <div className=\"alert alert-success\">\r\n      <h2>Loading...</h2>\r\n  </div>\r\n);\r\n\r\n  const goBack = () => (\r\n      <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n      Back to Dashboard\r\n  </Link>\r\n  </div>\r\n);\r\n\r\n  return (\r\n      <Layout\r\n  title=\"Add a new category\"\r\n  description={`G'day ${user.name}, ready to add a new category?`}\r\n>\r\n<div className=\"row\">\r\n      <div className=\"col-3\">< SideBarLinks /></div>\r\n      <div className=\"col-9\">\r\n      {showSuccess()}\r\n  {showError()}\r\n  {newQuizFom()}\r\n</div>\r\n  </div>\r\n  </Layout>\r\n);\r\n};\r\n\r\nexport default AddQuiz;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { getQuizes,deleteQuiz,getCategory,getSubCategory } from \"./apiAdmin\";\r\nimport {Link} from \"react-router-dom\";\r\nimport css from \"../styles.css\"\r\nimport {API} from \"../config\";\r\nimport ShowImage from \"../core/ShowImage\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\nimport {isAuthenticated} from \"../auth\";\r\n\r\n\r\nconst ListQuiz = () => {\r\n    const [quiz, setQuiz] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const {user, token} = isAuthenticated();\r\n    const loadQuiz = () => {\r\n        getQuizes().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setQuiz(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const destroy = quizId => {\r\n        deleteQuiz(quizId, user._id, token).then(data => {\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }else{\r\n                loadQuiz();\r\n            }\r\n        });\r\n    };\r\n\r\n    const cat = categoryId => {\r\n        getCategory(categoryId).then(data => {\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }else{\r\n                console.log(data.name);\r\n                return data.name;\r\n            }\r\n        });\r\n    }\r\n\r\n    const subcat = subcategoryId => {\r\n        getSubCategory(subcategoryId).then(data => {\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }else{\r\n                return data.name;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        loadQuiz();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Home Page\"\r\n    description=\"Node React E-commerce App\"\r\n    className=\"container-fluid\"\r\n        >\r\n        <div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-8\">\r\n        <table id=\"students\">\r\n        <thead>\r\n        <tr>\r\n        <th>Id</th>\r\n        <th>Name</th>\r\n        <th>Category</th>\r\n        <th>SubCategory</th>\r\n        <th>Image</th>\r\n        <th>Edit</th>\r\n        <th>Delete</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        {quiz.map((qu, i) => (\r\n\r\n                <tr>\r\n                <td>{qu._id}</td>\r\n                <td>{qu.name}</td>\r\n                <td>{cat(qu.category)}</td>\r\n                <td>{subcat(qu.subcategory)}</td>\r\n                <td><ShowImage item={qu} url=\"quiz\" /></td>\r\n            <td><Link to={`/quiz/update/${qu._id}`}>Edit</Link></td>\r\n    <td><span\r\n    onClick={() => destroy(qu._id)}\r\n    className=\"badge badge-danger badge-pill\"\r\n        >\r\n        Delete\r\n        </span></td>\r\n            </tr>\r\n))}\r\n</tbody>\r\n    </table>\r\n    </div>\r\n    <div className=\"col-1\"><Link to='/create/quiz'>Create Quiz</Link></div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default ListQuiz;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {createQuiz, getCategories, getSubCategories, getQuiz,updateQuiz} from \"./apiAdmin\";\r\nimport SideBarLinks from \"../core/SidebarLinks\";\r\n\r\nconst EditQuiz = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        categories: [],\r\n        subcategories: [],\r\n        category: \"\",\r\n        subcategory: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdQuiz: \"\",\r\n        redirectToProfile: false,\r\n        formData: new FormData()\r\n    });\r\n\r\n    const [error, setError] = useState(false);\r\n    const [categories, setCategories] = useState(false);\r\n    const [subcategories, setSubcategories] = useState(false);\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        category,\r\n        description,\r\n        loading,\r\n        createdQuiz,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    const init = quizId => {\r\n        getQuiz(quizId).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description\r\n                });\r\n                initCat();\r\n                initSub();\r\n            }\r\n        });\r\n    };\r\n\r\n    const initCat = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initSub = () => {\r\n        getSubCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setSubcategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        init(match.params.quizId);\r\n    }, []);\r\n\r\n\r\n    const handleChange = name => event => {\r\n\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        updateQuiz(match.params.quizId, user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    category: \"\",\r\n                    subcategory: \"\",\r\n                    photo: \"\",\r\n                    loading: false,\r\n                    createdQuiz: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newQuizFom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n    type=\"text\"\r\n    onChange={handleChange(\"name\")}\r\n    className=\"form-control\"\r\n    value={name}\r\n    />\r\n    </div>\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select\r\n    onChange={handleChange(\"category\")}\r\n    className=\"form-control\">\r\n        <option>Please select</option>\r\n    {categories &&\r\n    categories.map((c, i) => (\r\n        <option key={i} value={c._id}>\r\n        {c.name}\r\n        </option>\r\n    ))}\r\n</select>\r\n    </div>\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">SubCategory</label>\r\n        <select\r\n    onChange={handleChange(\"subcategory\")}\r\n    className=\"form-control\" multiple>\r\n    <option>Please select</option>\r\n    {subcategories &&\r\n    subcategories.map((s, x) => (\r\n        <option key={x} value={s._id}>\r\n        {s.name}\r\n        </option>\r\n    ))}\r\n</select>\r\n    </div>\r\n    <div className=\"form-group\">\r\n        <label className=\"text-muted\">Image</label>\r\n        <input\r\n    onChange={handleChange(\"photo\")}\r\n    type=\"file\"\r\n    name=\"photo\"\r\n    accept=\"image/*\"\r\n    className=\"form-control\"\r\n        />\r\n        </div>\r\n        <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n    className=\"form-control\"\r\n    onChange={handleChange(\"description\")}\r\n    value={description}\r\n    />\r\n    </div>\r\n    <button className=\"btn btn-outline-primary\">Edit Quiz</button>\r\n    </form>\r\n);\r\n\r\n    const showError = () => (\r\n        <div\r\n    className=\"alert alert-danger\"\r\n    style={{ display: error ? \"\" : \"none\" }}\r\n>\r\n    {error}\r\n</div>\r\n);\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n    className=\"alert alert-info\"\r\n    style={{ display: createdQuiz ? \"\" : \"none\" }}\r\n>\r\n<h2>{`${createdQuiz}`} is Updated!</h2>\r\n    </div>\r\n);\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n        <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n    </div>\r\n);\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n        <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Back to Dashboard\r\n    </Link>\r\n    </div>\r\n);\r\n\r\n    return (\r\n        <Layout\r\n    title=\"Add a new category\"\r\n    description={`G'day ${user.name}, ready to add a new category?`}\r\n>\r\n<div className=\"row\">\r\n        <div className=\"col-3\">< SideBarLinks /></div>\r\n        <div className=\"col-9\">\r\n        {showSuccess()}\r\n    {showError()}\r\n    {newQuizFom()}\r\n</div>\r\n    </div>\r\n    </Layout>\r\n);\r\n};\r\n\r\nexport default EditQuiz;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        shipping: \"\",\r\n        quantity: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdProduct: \"\",\r\n        redirectToProfile: false,\r\n        formData: \"\"\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        shipping,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    //load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value =\r\n            name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true });\r\n\r\n        createProduct(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    photo: \"\",\r\n                    price: \"\",\r\n                    quantity: \"\",\r\n                    loading: false,\r\n                    createdProduct: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input\r\n                        onChange={handleChange(\"photo\")}\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        accept=\"image/*\"\r\n                    />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    onChange={handleChange(\"name\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea\r\n                    onChange={handleChange(\"description\")}\r\n                    className=\"form-control\"\r\n                    value={description}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input\r\n                    onChange={handleChange(\"price\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={price}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select\r\n                    onChange={handleChange(\"category\")}\r\n                    className=\"form-control\"\r\n                >\r\n                    <option>Please select</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select\r\n                    onChange={handleChange(\"shipping\")}\r\n                    className=\"form-control\"\r\n                >\r\n                    <option>Please select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input\r\n                    onChange={handleChange(\"quantity\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={quantity}\r\n                />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">Create Product</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div\r\n            className=\"alert alert-info\"\r\n            style={{ display: createdProduct ? \"\" : \"none\" }}\r\n        >\r\n            <h2>{`${createdProduct}`} is created!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Add a new product\"\r\n            description={`G'day ${user.name}, ready to add a new product?`}\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n    const [checked, setCheked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        // return the first index or -1\r\n        const currentCategoryId = checked.indexOf(c);\r\n        const newCheckedCategoryId = [...checked];\r\n        // if currently checked was not already in checked state > push\r\n        // else pull/take off\r\n        if (currentCategoryId === -1) {\r\n            newCheckedCategoryId.push(c);\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1);\r\n        }\r\n        // console.log(newCheckedCategoryId);\r\n        setCheked(newCheckedCategoryId);\r\n        handleFilters(newCheckedCategoryId);\r\n    };\r\n\r\n    return categories.map((c, i) => (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input\r\n                onChange={handleToggle(c._id)}\r\n                value={checked.indexOf(c._id === -1)}\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n            />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n    const [value, setValue] = useState(0);\r\n\r\n    const handleChange = event => {\r\n        handleFilters(event.target.value);\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    return prices.map((p, i) => (\r\n        <div key={i}>\r\n            <input\r\n                onChange={handleChange}\r\n                value={`${p._id}`}\r\n                name={p}\r\n                type=\"radio\"\r\n                className=\"mr-2 ml-4\"\r\n            />\r\n            <label className=\"form-check-label\">{p.name}</label>\r\n        </div>\r\n    ));\r\n};\r\n\r\nexport default RadioBox;\r\n","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"$0 to $9\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"$10 to $19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"$20 to $29\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"$30 to $39\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than $40\",\r\n        array: [40, 99]\r\n    }\r\n];\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport Card from \"./Card\";\r\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport RadioBox from \"./RadioBox\";\r\nimport { prices } from \"./fixedPrices\";\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(6);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadFilteredResults = newFilters => {\r\n        // console.log(newFilters);\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size);\r\n                setSkip(0);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n        // console.log(newFilters);\r\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults([...filteredResults, ...data.data]);\r\n                setSize(data.size);\r\n                setSkip(toSkip);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 &&\r\n            size >= limit && (\r\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n                    Load more\r\n                </button>\r\n            )\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n        loadFilteredResults(skip, limit, myFilters.filters);\r\n    }, []);\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        // console.log(\"SHOP\", filters, filterBy);\r\n        const newFilters = { ...myFilters };\r\n        newFilters.filters[filterBy] = filters;\r\n\r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters);\r\n            newFilters.filters[filterBy] = priceValues;\r\n        }\r\n        loadFilteredResults(myFilters.filters);\r\n        setMyFilters(newFilters);\r\n    };\r\n\r\n    const handlePrice = value => {\r\n        const data = prices;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Shop Page\"\r\n            description=\"Search and find books of your choice\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <h4>Filter by categories</h4>\r\n                    <ul>\r\n                        <Checkbox\r\n                            categories={categories}\r\n                            handleFilters={filters =>\r\n                                handleFilters(filters, \"category\")\r\n                            }\r\n                        />\r\n                    </ul>\r\n\r\n                    <h4>Filter by price range</h4>\r\n                    <div>\r\n                        <RadioBox\r\n                            prices={prices}\r\n                            handleFilters={filters =>\r\n                                handleFilters(filters, \"price\")\r\n                            }\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-8\">\r\n                    <h2 className=\"mb-4\">Products</h2>\r\n                    <div className=\"row\">\r\n                        {filteredResults.map((product, i) => (\r\n                            <Card key={i} product={product} />\r\n                        ))}\r\n                    </div>\r\n                    <hr />\r\n                    {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Shop;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport Home from \"./core/Home\";\r\nimport PrivateRoute from \"./auth/PrivateRoute\";\r\nimport Dashboard from \"./user/UserDashboard\";\r\nimport Admin from \"./user/AdminDashboard\";\r\nimport AdminRoute from \"./auth/AdminRoute\";\r\nimport ListCategory from \"./admin/ListCategory\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport EditCategory from \"./admin/EditCategory\";\r\n\r\nimport ListSubCategory from \"./admin/ListSubCategory\";\r\nimport AddSubCategory from \"./admin/AddSubCategory\";\r\nimport EditSubCategory from \"./admin/EditSubCategory\";\r\n\r\nimport AddQuiz from \"./admin/AddQuiz\";\r\nimport ListQuiz from \"./admin/ListQuiz\";\r\nimport EditQuiz from \"./admin/EditQuiz\";\r\n\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport Shop from \"./core/Shop\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/shop\" exact component={Shop} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={Admin} />\r\n        <AdminRoute path=\"/list/category\" exact component={ListCategory} />\r\n        <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n        <AdminRoute path=\"/category/update/:categoryId\" exact component={EditCategory} />\r\n        <AdminRoute path=\"/create/subcategory\" exact component={AddSubCategory}/>\r\n        <AdminRoute path=\"/list/subcategory\" exact component={ListSubCategory} />\r\n        <AdminRoute path=\"/subcategory/update/:subcategoryId\" exact component={EditSubCategory} />\r\n        <AdminRoute path=\"/list/quiz\" exact component={ListQuiz} />\r\n        <AdminRoute path=\"/quiz/update/:quizId\" exact component={EditQuiz} />\r\n        <AdminRoute path=\"/create/quiz\" exact component={AddQuiz} />\r\n        <AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\n\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}